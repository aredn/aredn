--- a/package/network/config/firewall/files/firewall.hotplug
+++ b/package/network/config/firewall/files/firewall.hotplug
@@ -5,7 +5,6 @@
 
 /etc/init.d/firewall enabled || exit 0
 
-fw3 -q network "$INTERFACE" >/dev/null || exit 0
-
 logger -t firewall "Reloading firewall due to $ACTION of $INTERFACE ($DEVICE)"
-fw3 -q reload
+
+/usr/local/bin/restart-firewall
--- /dev/null
+++ b/package/network/config/firewall4/patches/001-delay-firewall.patch
@@ -0,0 +1,21 @@
+--- a/root/etc/hotplug.d/iface/20-firewall
++++ b/root/etc/hotplug.d/iface/20-firewall
+@@ -1,17 +1,9 @@
+ #!/bin/sh
+ 
+-has_zone() {
+-	fw4 -q network "$INTERFACE" >/dev/null && return 0
+-	eval $(ubus call "network.interface.$INTERFACE" status | jsonfilter -e 'ZONE=@.data.zone')
+-	fw4 -q zone "$ZONE" >/dev/null
+-}
+-
+ [ "$ACTION" = ifup -o "$ACTION" = ifupdate ] || exit 0
+ [ "$ACTION" = ifupdate -a -z "$IFUPDATE_ADDRESSES" -a -z "$IFUPDATE_DATA" ] && exit 0
+ 
+ /etc/init.d/firewall enabled || exit 0
+ 
+-has_zone || exit 0
+-
+ logger -t firewall "Reloading firewall due to $ACTION of $INTERFACE ($DEVICE)"
+-fw4 -q reload
++/usr/local/bin/restart-firewall
